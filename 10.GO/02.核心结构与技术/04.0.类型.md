
# Go 语言数据类型

在 Go 编程语言中，数据类型用于声明函数和变量。  
数据类型的出现是为了把数据分成所需内存大小不同的数据，编程的时候需要用大数据的时候才需要申请大内存，就可以充分利用内存。  

## 类型

变量（或常量）包含数据，这些数据可以有不同的数据类型，简称类型。使用 var 声明的变量的值会自动初始化为该类型的零值。类型定义了某个变量的值的集合与可对其进行操作的集合。

类型可以是基本类型，如：int、float、bool、string；结构化的（复合的），如：struct、array、slice、map、channel；只描述类型的行为的，如：interface。

结构化的类型没有真正的值，它使用 nil 作为默认值（在 Objective-C 中是 nil，在 Java 中是 null，在 C 和 C++ 中是NULL或 0）。值得注意的是，Go 语言中不存在类型继承。

函数也可以是一个确定的类型，就是以函数作为返回类型。这种类型的声明要写在函数名和可选的参数列表之后，例如：

```go
func FunctionName (a typea, b typeb) typeFunc
```

你可以在函数体中的某处返回使用类型为 typeFunc 的变量 var：

```go
return var
```

一个函数可以拥有多返回值，返回类型之间需要使用逗号分割，并使用小括号 `()` 将它们括起来，如：

```go
func FunctionName (a typea, b typeb) (t1 type1, t2 type2)
```

示例： 函数 Atoi：`func Atoi(s string) (i int, err error)`

返回的形式：

```go
return var1, var2
```

这种多返回值一般用于判断某个函数是否执行成功（true/false）或与其它返回值一同返回错误消息（详见之后的并行赋值）。

使用 type 关键字可以定义你自己的类型，你可能想要定义一个结构体，但是也可以定义一个已经存在的类型的别名，如：

```go
type IZ int
```

**这里并不是真正意义上的别名，因为使用这种方法定义之后的类型可以拥有更多的特性，且在类型转换时必须显式转换。**

然后我们可以使用下面的方式声明变量：

```go
var a IZ = 5
```

这里我们可以看到 int 是变量 a 的底层类型，这也使得它们之间存在相互转换的可能。

如果你有多个类型需要定义，可以使用因式分解关键字的方式，例如：

```go
type (
   IZ int
   FZ float64
   STR string
)
```

每个值都必须在经过编译后属于某个类型（编译器必须能够推断出所有值的类型），因为 Go 语言是一种静态类型语言。


## 类型转换

在必要以及可行的情况下，一个类型的值可以被转换成另一种类型的值。由于 Go 语言不存在隐式类型转换，因此所有的转换都必须显式说明，就像调用一个函数一样（类型在这里的作用可以看作是一种函数）：

```go
valueOfTypeB = typeB(valueOfTypeA)
```

**类型 B 的值 = 类型 B(类型 A 的值)**

示例： 

```go
a := 5.0
b := int(a)
```

但这只能在定义正确的情况下转换成功，例如从一个取值范围较小的类型转换到一个取值范围较大的类型（例如将 int16 转换为 int32）。当从一个取值范围较大的转换到取值范围较小的类型时（例如将 int32 转换为 int16 或将 float32 转换为 int），会发生精度丢失（截断）的情况。当编译器捕捉到非法的类型转换时会引发编译时错误，否则将引发运行时错误。

具有相同底层类型的变量之间可以相互转换：

```go
var a IZ = 5
c := int(a)
d := IZ(c)
```


### Go 语言按类别有以下几种数据类型

<table>
<tr><th>序号</th><th>类型</th><th>描述</th></tr>
<tr><td>1</td><td>布尔型</td><td>布尔型的值只可以是常量 true 或者 false。
    <br/>一个简单的例子：`var b bool = true` 。</td></tr>
<tr><td>2</td><td>数字类型</td><td>整型 int 和浮点型 float32、float64，Go 语言支持整型和浮点型数字，并且支持复数，其中位的运算采用补码。</td></tr>
<tr><td>3</td><td>字符串类型</td><td>	字符串就是一串固定长度的字符连接起来的字符序列。
    <br/>Go 的字符串是由单个字节连接起来的。
    <br/>Go 语言的字符串的字节使用 UTF-8 编码标识 Unicode 文本。
</td></tr>
<tr><td>4</td><td>派生类型</td><td>
(a) 指针类型（Pointer）<br/>
(b) 数组类型<br/>
(c) 结构化类型(struct)<br/>
(d) Channel 类型<br/>
(e) 函数类型<br/>
(f) 切片类型<br/>
(g) 接口类型（interface）<br/>
(h) Map 类型<br/>
</td></tr>
</table>


### 数字类型
Go 也有基于架构的类型，例如：int、uint 和 uintptr。

序号|	类型|	描述
--|--|--
1|	uint8|	无符号 8 位整型 (0 到 255)
2|	uint16|	无符号 16 位整型 (0 到 65535)
3|	uint32|	无符号 32 位整型 (0 到 4294967295)
4|	uint64|	无符号 64 位整型 (0 到 18446744073709551615)
5|	int8|	有符号 8 位整型 (-128 到 127，即 -2^7~2^7-1)
6|	int16|	有符号 16 位整型 (-32768 到 32767，即 -2^15~2^15-1)
7|	int32|	有符号 32 位整型 (-2147483648 到 2147483647，即 -2^31~2^31-1)
8|	int64|	有符号 64 位整型 (-9223372036854775808 到 9223372036854775807，即 -2^63~2^63-1)


### 浮点型

序号|	类型|	描述
--|--|--
1|	float32|	IEEE-754 32位浮点型数
2|	float64|	IEEE-754 64位浮点型数
3|	complex64|	32 位实数和虚数
4|	complex128|	64 位实数和虚数


### 其他数字类型
以下列出了其他更多的数字类型

序号|	类型|	描述
--|--|--
1|	byte|	类似 uint8
2|	rune|	类似 int32
3|	uint|	32 或 64 位
4|	int|	与 uint 一样大小
5|	uintptr|	无符号整型，用于存放一个指针

